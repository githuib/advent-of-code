#!/usr/bin/env bash

CWD=$PWD
script_dir=$(dirname -- "$(readlink -f -- "${BASH_SOURCE[0]}")")
cd "$script_dir/.." || exit

if [[ $# -ge 3 && $1 =~ ^[0-9]{4}$ ]]; then
  cmd="uv run aoc_solve --year $1 --day $2 --part $3 ${@:4}"
elif [[ $# -ge 2 && $1 =~ ^[0-9]{2}$ ]]; then
  cmd="uv run aoc_solve --day $1 --part $2 ${#:3}"
elif [[ $# -ge 1 ]]; then
  cmd="uv run aoc_solve --part $1 ${@:2}"
else
  echo "Wrong arguments: $@"
  exit 1
fi

#echo "$cmd"
$cmd

cd "$CWD" || exit
